# Supplier Onboarding - Environment Variables Template
# Copy this file to .env.local and fill in actual values
# NEVER commit .env.local to Git!

# ===== JWT Configuration =====
JWT_ISSUER=supplier-onboarding-cap
JWT_AUDIENCE=supplier-onboarding-app
JWT_EXPIRY=7d
JWT_ALGORITHM=RS256

# ===== Rate Limiting =====
RATE_LIMIT_TOKEN_MAX=5
RATE_LIMIT_TOKEN_WINDOW=3600000
RATE_LIMIT_IP_MAX=20
RATE_LIMIT_IP_WINDOW=3600000
RATE_LIMIT_USER_MAX=10

# ===== Security Headers =====
ENABLE_HSTS=true
ENABLE_CSP=true
ALLOWED_ORIGINS=http://localhost:4004,http://localhost:5000

# ===== Audit & Monitoring =====
ENABLE_AUDIT_LOG=true
AUDIT_LOG_RETENTION_DAYS=2555
LOG_LEVEL=info
ALERT_EMAIL=security-team@example.com

# ===== S/4HANA Integration =====
S4_DESTINATION_NAME=s4hana-cloud-odata-v4
S4_BP_SERVICE_PATH=/sap/opu/odata4/sap/api_business_partner/srvd_a2x/sap/businesspartner/0001/
S4_TIMEOUT=30000

# ===== Object Store (S3-compatible) =====
# Service credentials (from cf service-key)
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key
AWS_S3_ENDPOINT=objectstore.cfapps.eu10.hana.ondemand.com
AWS_REGION=eu-central-1

# Bucket configuration
S3_BUCKET_NAME=onboarding-documents-dev
PRESIGNED_UPLOAD_URL_EXPIRY=900      # 15 minutes in seconds
PRESIGNED_DOWNLOAD_URL_EXPIRY=300    # 5 minutes in seconds

# File upload limits
MAX_FILE_SIZE_MB=5
MAX_ATTACHMENTS_PER_SUPPLIER=10
ALLOWED_MIME_TYPES=application/pdf,image/jpeg,image/png,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# ===== Data Retention =====
INVITATION_RETENTION_SUCCESS_DAYS=90
INVITATION_RETENTION_EXPIRED_DAYS=30
DRAFT_RETENTION_DAYS=30

# ===== Application =====
NODE_ENV=development
PORT=4004
DEBUG=true

# ===== CAP Configuration (for local development) =====
# This will be overridden by service bindings in BTP
cds_requires_auth_kind=xsuaa
cds_requires_db_kind=hana
